---
import { Image } from "astro:assets";
import type { Project } from "../types/config";
import {marked} from "marked"

type Props = Project;

const { title, description, image, year, url, demoUrl } = Astro.props;

const htmlDescription = marked.parse(description)
---

<div class="flex-1 group">
  <a href={url} target="_blank" class="block mb-4">
    <Image
      width={1920}
      height={1080}
      src={image}
      alt={title}
      class="w-full h-48 object-cover rounded opacity-70 group-hover:opacity-100 transition-opacity"
    />
  </a>
  <div>
    <p class="text-xs uppercase tracking-wider opacity-40 mb-2">[{year}]</p>
    <a href={url} target="_blank" class="block">
      <h2 class="text-xl font-medium mb-2 opacity-90 group-hover:opacity-100 transition-opacity">{title}</h2>
    </a>
    <div class="text-sm opacity-60 leading-relaxed">
      <Fragment set:html={htmlDescription} />
    </div>
    {demoUrl && (
      <a
        href={demoUrl}
        target="_blank"
        class="inline-block mt-4 text-xs uppercase tracking-wider opacity-60 hover:opacity-100 transition-opacity"
      >
        [View Demo â†’]
      </a>
    )}
  </div>
</div>
